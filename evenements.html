<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>√âv√©nements ‚Äî Romandie Scooter League</title>

  <!-- Fonts + Styles globaux -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/common.css"/>

  <!-- Supabase + scripts -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script defer src="js/env.js"></script>
  <script defer src="js/auth.js"></script>
  <script defer src="js/site.js"></script>

  <style>
    html, body { height:100%; margin:0; background:transparent!important; color:#fff; font-family:"Outfit"; }
    main{ flex:1; }

    /* Fond vid√©o */
    .site-bg-video{ position:fixed; inset:0; width:100%; height:100%; object-fit:cover; z-index:-2; background:#000; }
    .site-bg-dim{ position:fixed; inset:0; z-index:-1; background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.8)); }

    /* NAV identique √† l‚Äôindex */
    nav.nav{
      background:rgba(0,0,0,.65);
      backdrop-filter:blur(8px);
      position:sticky; top:0; z-index:100;
    }
    nav.nav .container{ max-width:1320px; margin:0 auto; padding:12px 28px; }
    nav.nav .row{ display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .brand{ display:flex; align-items:center; gap:10px; color:#fff; text-decoration:none; }
    .brand img{ height:48px; border-radius:10px; }
    .brand span{ font-weight:800; font-size:17px; }
    nav.nav ul{ display:flex; align-items:center; gap:26px; }
    nav.nav ul li a{ font-weight:600; color:#e8f0ea; font-size:17px; text-decoration:none; }
    nav.nav ul li a:hover{ color:#22c55e; }

    .cta{ display:flex; align-items:center; gap:12px; }
    #menuBtn{
      display:none; align-items:center; justify-content:center; padding:10px 12px;
      border-radius:10px; border:1px solid rgba(255,255,255,.12);
      background:rgba(34,197,94,.12); color:#22c55e; cursor:pointer;
    }

    /* Avatar */
    .nav-avatar{
      width:38px; height:38px; border-radius:999px; object-fit:cover;
      border:2px solid #22c55e; box-shadow:0 0 10px rgba(34,197,94,.5);
    }

    /* Mobile menu */
    .mobile-sheet{ position:fixed; inset:0; display:none; z-index:120; }
    .mobile-sheet.open{ display:block; }
    .mobile-dim{ position:absolute; inset:0; background:rgba(0,0,0,.5); }
    .mobile-panel{
      position:absolute; top:0; right:0; height:100%; width:82vw; max-width:360px;
      background:#0b1220; padding:22px 18px; display:flex; flex-direction:column;
      gap:12px; border-left:1px solid rgba(255,255,255,.08); box-shadow:-12px 0 30px rgba(0,0,0,.35);
    }
    .mobile-panel a{ color:#eaf5ee; text-decoration:none; font-weight:700; padding:8px 0; }

    @media(max-width:990px){
      nav.nav ul{ display:none!important; }
      #btnCart,#btnLogin,#btnAccount,.btn.green{ display:none!important; }
      #menuBtn{ display:inline-flex; }
      .coach-fab{ display:none; }
    }

    /* Layout */
    .container-page{ max-width:1100px; margin:0 auto; padding:0 24px 40px; }
    .page-intro{ padding:32px 0 10px; }
    .page-intro h1{ font-size:clamp(32px,4.5vw,46px); font-weight:800; margin:6px 0 8px; }
    .page-intro p{ opacity:.95; font-size:clamp(15px,2.1vw,19px); max-width:720px; }

    /* MontreuxTV */
    .msc-highlight{
      margin:10px 0 18px; padding:12px 14px; border-radius:14px;
      border:1px solid rgba(148,163,184,.5); background:rgba(15,23,42,.9);
      display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between; gap:10px;
      box-shadow:0 10px 30px rgba(0,0,0,.6);
    }
    .msc-text{ font-size:13px; color:#e5e7eb; max-width:720px; }
    .msc-btn{
      padding:8px 14px; border-radius:999px;
      border:1px solid rgba(255,255,255,.2); background:rgba(34,197,94,.12);
      color:#bbf7d0; font-size:13px; font-weight:700; text-decoration:none;
    }

    /* Cards */
    .cards{ display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); margin-top:10px; }
    .card{
      background:rgba(15,23,42,.88); border:1px solid rgba(255,255,255,.08);
      border-radius:18px; padding:18px 16px 20px; box-shadow:0 8px 24px rgba(0,0,0,.35);
    }
    .card h3{ color:#22c55e; font-weight:800; margin:0 0 4px; font-size:17px; }
    .meta{ font-size:14px; opacity:.9; margin-bottom:6px; }
    .card p{ font-size:15px; color:#e5e7eb; margin-bottom:10px; }
  </style>
</head>
<body>

<!-- FOND VID√âO -->
<video class="site-bg-video" autoplay muted loop playsinline id="rslBg" poster="images/hero-poster.jpg"></video>
<div class="site-bg-dim"></div>

<!-- NAV (identique index) -->
<nav class="nav">
  <div class="container">
    <div class="row">

      <a class="brand" href="index.html">
        <img src="images/logo_rsl.png" alt="Logo RSL"/>
        <span>RSL ‚Äî Romandie Scooter League</span>
      </a>

      <ul>
        <li><a href="cours.html">Cours</a></li>
        <li><a href="formation.html">Formation RSL</a></li>
        <li><a href="ou_rider.html">O√π rider ?</a></li>
        <li><a href="evenements.html">√âv√©nements</a></li>
        <li><a href="disciplines.html">Disciplines</a></li>
        <li><a href="shop-rsl.html">Shop</a></li>
        <li><a href="comite.html">Comit√©</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>

      <div class="cta">
        <button class="btn dark" id="btnLogin">Login</button>
        <a class="btn dark" id="btnAccount" href="compte.html" style="display:none">Mon compte</a>

        <a href="compte.html">
          <img id="navAvatar" class="nav-avatar" src="images/default-avatar.png" alt="Avatar" style="display:none;">
        </a>

        <a class="btn dark" id="btnCart" href="panier/panier.html">Panier</a>
        <a class="btn green" href="membres.html">Devenir membre</a>
        <button id="menuBtn">‚ò∞</button>
      </div>

    </div>
  </div>
</nav>

<!-- MENU MOBILE -->
<div class="mobile-sheet" id="mobileMenu">
  <div class="mobile-dim"></div>
  <nav class="mobile-panel">
    <a href="index.html">Accueil</a>
    <a href="cours.html">Cours</a>
    <a href="membres.html">Devenir membre</a>
    <a href="formation.html">Formation RSL</a>
    <a href="disciplines.html">Disciplines</a>
    <a href="ou_rider.html">O√π rider ?</a>
    <a href="evenements.html">√âv√©nements</a>
    <a href="game.html">Games</a>
    <a href="shop-rsl.html">Shop</a>
    <a href="comite.html">Comit√©</a>
    <a href="contact.html">Contact</a>
    <a href="conditions.html">Conditions g√©n√©rales</a>
    <a href="compte.html">Mon compte</a>
    <a href="coach.html" class="coach-link">üë®‚Äçüè´ Je suis coach</a>
  </nav>
</div>

<main>
  <div class="container-page">

    <header class="page-intro">
      <h1>√âv√©nements RSL</h1>
      <p>Contests officiels, jams, journ√©es street encadr√©es et √©v√©nements partenaires.</p>

      <div class="msc-highlight">
        <div class="msc-text">
          <b>Montreux Scooter Contest</b> is one of the pioneer freestyle scooter contests in Switzerland,
          hosted in Montreux since 2005. Watch the history on <b>MontreuxTV</b>.
        </div>
        <a class="msc-btn" href="https://rsl-swiss.ch/montreuxtv" target="_blank">Video history ‚ñ∂</a>
      </div>
    </header>

    <section class="section">
      <div class="cards">
        <!-- Montreux -->
        <article class="card">
          <h3>Montreux Scooter Contest ‚Äî 20e √©dition</h3>
          <div class="meta">üìç Montreux ‚Äî 6 d√©cembre 2025</div>
          <p>Le plus grand contest de Suisse romande f√™te ses 20 ans ! Park, street, kids & pros.</p>

          <a class="btn green"
             href="https://www.jfrideshop.ch/shop?order=website_sequence+asc&category=67"
             target="_blank">
             Infos & programme
          </a>

          <!-- üì∏ Acc√®s photos -->
          <a class="btn dark" href="access_photos.html">üì∏ Acc√®s photos 2025</a>
        </article>

        <!-- √Ä venir -->
        <article class="card">
          <h3>√âv√©nement RSL ‚Äî √† venir</h3>
          <div class="meta">üìç √Ä d√©finir ‚Äî √Ä venir</div>
          <p>Prochains contests, jams et journ√©es street annonc√©s bient√¥t.</p>
          <button class="btn dark" disabled>√Ä venir</button>
        </article>

        <article class="card">
          <h3>√âv√©nement RSL ‚Äî √† venir</h3>
          <div class="meta">üìç √Ä d√©finir ‚Äî √Ä venir</div>
          <p>Prochains contests, jams et journ√©es street annonc√©s bient√¥t.</p>
          <button class="btn dark" disabled>√Ä venir</button>
        </article>

        <article class="card">
          <h3>√âv√©nement RSL ‚Äî √† venir</h3>
          <div class="meta">üìç √Ä d√©finir ‚Äî √Ä venir</div>
          <p>Prochains contests, jams et journ√©es street annonc√©s bient√¥t.</p>
          <button class="btn dark" disabled>√Ä venir</button>
        </article>

      </div>
    </section>

  </div>
</main>

<!-- FOOTER -->
<footer class="footer-mini">
  <p class="copy">¬© 2026 ‚Äî RSL Romandie Scooter League. Tous droits r√©serv√©s.</p>
</footer>

<!-- BOUTON COACH -->
<a href="coach.html" class="coach-fab">üë®‚Äçüè´ Devenir coach</a>

<!-- SCRIPTS -->
<script>
/* Vid√©o de fond */
(function(){
  const vids = [
    "https://jynxifufaauoxwzjapzq.supabase.co/storage/v1/object/public/videos_rsl/trottvideo1.mp4",
    "https://jynxifufaauoxwzjapzq.supabase.co/storage/v1/object/public/videos_rsl/trottvideo2.mp4"
  ];
  const pick = vids[Math.floor(Math.random()*vids.length)];
  const v = document.getElementById('rslBg');
  if(!v) return;

  const s = document.createElement('source');
  s.src = pick;
  s.type = 'video/mp4';
  v.appendChild(s);

  const start = () => {
    try{
      v.playbackRate = 0.6;
      const p = v.play();
      if(p && p.catch) p.catch(()=>{});
    }catch(e){}
  };
  start();
})();
</script>

<script>
/* Menu mobile */
(function(){
  const menuBtn=document.getElementById('menuBtn');
  const mobile=document.getElementById('mobileMenu');
  if(!menuBtn || !mobile) return;

  menuBtn.addEventListener('click',e=>{
    e.stopPropagation();
    mobile.classList.add('open');
  });
  mobile.querySelector('.mobile-dim').addEventListener('click',()=>{
    mobile.classList.remove('open');
  });
})();
</script>

<script>
/* Login / Compte Supabase */
(async function(){
  if(typeof supabase==='undefined') return;
  const {data:{user}} = await supabase.auth.getUser();
  const btnLogin   = document.getElementById('btnLogin');
  const btnAccount = document.getElementById('btnAccount');

  function ui(u){
    if(u){
      btnAccount.style.display = 'inline-flex';
      btnLogin.style.display   = 'none';
    } else {
      btnAccount.style.display = 'none';
      btnLogin.style.display   = 'inline-flex';
    }
  }

  ui(user);
  btnLogin?.addEventListener('click',()=>location.href='compte.html');
  supabase.auth.onAuthStateChange((_e,s)=>ui(s?.user ?? null));
})();
</script>

</body>
</html>
